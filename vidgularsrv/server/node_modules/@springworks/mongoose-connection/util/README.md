## Local Replica Set for testing

1. Open a new terminal and run

   ```
   $ mongo --nodb
   ```
   
   This will start the mongo shell without using a database file.

   Then modify and paste the following into the shell

   ```
   var rst = new ReplSetTest({
     name: 'rsTest',
     useHostName: false,
     nodes: {
       node1: {dbpath: '<basepath>/$set-$node'},
       node2: {dbpath: '<basepath>/$set-$node'},
       node3: {dbpath: '<basepath>/$set-$node'}
     }
   });
   rst.startSet();
   
   ```
   
2. Open a new terminal and run 

   ```
   $ mongo --port 31000
   ```
   
   and in that shell run
   
   ```
   rs.initiate();
   {
	 "info2" : "no configuration explicitly specified -- making one",
	 "me" : "Patriks-MacBook-Pro-2.local:31000",
	 "info" : "Config now saved locally.  Should come online in about a minute.",
	 "ok" : 1
   }
   ```
   
   use the name in "me" to add the other servers
   
   ```
   rs.add('Patriks-MacBook-Pro-2.local:31001');
   rs.add('Patriks-MacBook-Pro-2.local:31002');
   ```
   
   keep running 
   
   ```
   rs.status(); 
   ```
   
   until all primary and secondary is up.
   